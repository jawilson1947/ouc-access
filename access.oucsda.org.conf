<VirtualHost *:443>
    ServerName access.oucsda.org

    SSLEngine on
    SSLCertificateFile /etc/letsencrypt/live/access.oucsda.org/fullchain.pem
    SSLCertificateKeyFile /etc/letsencrypt/live/access.oucsda.org/privkey.pem

    # Proxy to your Docker container (Next.js app running on port 3000)
    ProxyPass "/" "http://localhost:3000/"
    ProxyPassReverse "/" "http://localhost:3000/"

    <Location />
        ProxyPreserveHost On
        RequestHeader set X-Forwarded-Proto "https"
    </Location>

    ErrorLog /var/log/httpd/access-ssl-error.log
    CustomLog /var/log/httpd/access-ssl-access.log combined
</VirtualHost>

